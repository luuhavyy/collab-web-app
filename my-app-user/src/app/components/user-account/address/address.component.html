<div class="account-container">
  
  <div class="content">
    <!-- Sidebar ƒëi·ªÅu h∆∞·ªõng -->  
    <div class="sidebar-container">
      <app-sidebar></app-sidebar>
  </div>

      <!-- N·ªôi dung ch√≠nh -->
      <div class="address-content">
        <h1>T√†i kho·∫£n c·ªßa t√¥i</h1>
        <h2>ƒê·ªãa ch·ªâ</h2>
  
        <!-- Danh s√°ch ƒë·ªãa ch·ªâ -->
        <div class="address-list">
          <div class="address-card" *ngFor="let address of addresses; let i = index">
            <h3>ƒê·ªãa ch·ªâ {{ i + 1 }} 
              <button (click)="editAddress(i)">‚úè Ch·ªânh s·ª≠a</button>
              <button class="delete-btn" (click)="confirmDelete(i)">üóë X√≥a</button></h3>
            <p>{{ address.first_name }}</p>
            <p>{{ address.last_name }}</p>
            <p>{{ address.phone_number }}</p>
            <p>{{ address.address }}</p>
  
            <!-- Form ch·ªânh s·ª≠a ƒë·ªãa ch·ªâ -->
            <div *ngIf="editIndex === i" class="edit-form">
              <input type="text" [(ngModel)]="editedAddress.first_name" placeholder="T√™n">
              <input type="text" [(ngModel)]="editedAddress.last_name" placeholder="H·ªç">
              <input type="text" [(ngModel)]="editedAddress.phone_number" placeholder="S·ªë ƒëi·ªán tho·∫°i">
              <input type="text" [(ngModel)]="editedAddress.address" placeholder="ƒê·ªãa ch·ªâ">
              <button (click)="saveAddress()">L∆∞u</button>
              <button (click)="cancelEdit()">H·ªßy</button>
            </div>
          </div>
        </div>

        <!-- N√∫t th√™m ƒë·ªãa ch·ªâ m·ªõi -->
        <button class="add-address-btn" (click)="toggleAddAddress()">+ Th√™m ƒë·ªãa ch·ªâ m·ªõi</button>

        <!-- Form th√™m ƒë·ªãa ch·ªâ m·ªõi -->
        <div *ngIf="showAddForm" class="add-form">
          <input type="text" [(ngModel)]="newAddress.first_name" placeholder="T√™n">
          <input type="text" [(ngModel)]="newAddress.last_name" placeholder="H·ªç">
          <input type="text" [(ngModel)]="newAddress.phone_number" placeholder="S·ªë ƒëi·ªán tho·∫°i">
          <input type="text" [(ngModel)]="newAddress.address" placeholder="ƒê·ªãa ch·ªâ">
            <button (click)="addNewAddress()">L∆∞u</button>
            <button (click)="toggleAddAddress()">H·ªßy</button>
        </div>

      </div>
    </div>

      <!-- Popup x√°c nh·∫≠n x√≥a -->
    <div *ngIf="deleteIndex !== null" class="delete-popup">
      <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a ƒë·ªãa ch·ªâ n√†y kh√¥ng?</p>
      <button (click)="deleteAddress()">X√°c nh·∫≠n</button>
      <button (click)="cancelDelete()">H·ªßy</button>
    </div>

</div>
  
