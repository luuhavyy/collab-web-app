<div class="promotion-container">
    <!-- Ti√™u ƒë·ªÅ qu·∫£n l√Ω ch∆∞∆°ng tr√¨nh gi·∫£m gi√° -->
    <h2>Qu·∫£n l√Ω ch∆∞∆°ng tr√¨nh gi·∫£m gi√°</h2>
    
    <!-- Thanh t√¨m ki·∫øm & N√∫t th√™m ch∆∞∆°ng tr√¨nh -->
    <div class="header-container">
        <button class="add-button" (click)="showAddPromotionForm()">‚ûï Th√™m</button>
        <div class="search-bar">
            <input 
              type="text" 
              [(ngModel)]="searchText" 
              (input)="searchPromotions()" 
              placeholder="üîç T√¨m ki·∫øm ch∆∞∆°ng tr√¨nh..."
            >
        </div>
    </div>

    <table class="promotion-table">
        <thead>
            <tr>
                <th>M√£</th>
                <th>Code</th>
                <th>Chi ti·∫øt</th>
                <th>B·∫Øt ƒë·∫ßu</th>
                <th>K·∫øt th√∫c</th>
                <th>T√¨nh tr·∫°ng</th>
                <th>% Gi·∫£m</th>
                <th>Gi√° tr·ªã t·ªëi thi·ªÉu</th>
                <th>Thao t√°c</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let promo of filteredPromotions()">
                <td>{{ promo._id }}</td>
                <td>{{ promo.promotion_code }}</td>
                <td>{{ promo.promotion_title }}</td>
                <td>{{ promo.start_date | date:'dd/MM/yyyy' }}</td>
                <td>{{ promo.end_date | date:'dd/MM/yyyy' }}</td>
                <td>{{ promo.promotion_status }}</td>
                <td>{{ promo.discount_percent*100 | number }}</td>
                <td>{{ promo.min_order_value | number }}</td>
                               
                <td>
                    <button (click)="editPromotion(promo)">‚úèÔ∏è</button>
                    <button (click)="showConfirmDeleteDialog(promo._id)">üóëÔ∏è</button>
                  </td>
            </tr>
        </tbody>
    </table>

    <!-- Popup x√°c nh·∫≠n x√≥a -->
    <div *ngIf="isConfirmDialogVisible" class="confirm-dialog">
        <div class="dialog-content">
            <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a ch∆∞∆°ng tr√¨nh gi·∫£m gi√° n√†y?</p>
            <div class="dialog-actions">
                <button (click)="confirmDelete()" class="confirm-btn">‚úÖ X√°c nh·∫≠n</button>
                <button (click)="closeConfirmDialog()" class="cancel-btn">‚ùå H·ªßy</button>
            </div>
        </div>
    </div>

    <div class="pagination">
        <button (click)="prevPage()" [disabled]="currentPage === 1">‚Äπ</button>
        <span>Trang {{ currentPage }} / {{ totalPages }}</span>
        <button (click)="nextPage()" [disabled]="currentPage >= totalPages">‚Ä∫</button>
    </div>
</div>

