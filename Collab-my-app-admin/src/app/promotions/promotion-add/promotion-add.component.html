<div class="promotion-add-container">
    <h2>{{ isEditing ? "Chỉnh sửa" : "Thêm mới" }} chương trình giảm giá</h2>
    <form (ngSubmit)="savePromotion()">
        <div class="form-grid">
            <div class="form-group">
                <label>Mã chương trình</label>
                <input type="text" [(ngModel)]="promotion.promotion_code" name="promotion_code" placeholder="Nhập mã chương trình">
            </div>
            <div class="form-group">
                <label>Tiêu đề chương trình</label>
                <input type="text" [(ngModel)]="promotion.promotion_title" name="promotion_title" placeholder="Nhập tiêu đề chương trình">
            </div>
            <div class="form-group">
                <label>Phần trăm giảm giá</label>
                <input type="number" [(ngModel)]="promotion.discount_percent" name="discount_percent" placeholder="Nhập % giảm giá">
            </div>
            <div class="form-group">
                <label>Ngày bắt đầu</label>
                <input type="date" [(ngModel)]="startDateString" name="start_date">
            </div>
            <div class="form-group">
                <label>Ngày kết thúc</label>
                <input type="date" [(ngModel)]="endDateString" name="end_date">
            </div>
            <div class="form-group full-width">
                <label>Giá trị tối thiểu</label>
                <input type="number" [(ngModel)]="promotion.min_order_value" name="min_order_value" placeholder="Nhập giá trị tối thiểu">
            </div>
        </div>
        <div class="button-group">
            <button class="add-btn" type="submit">{{ isEditing ? "Cập nhật" : "Thêm" }}</button>
            <button class="close-btn" type="button" (click)="cancelAdd()">Huỷ</button> 
        </div>
    </form>
</div>

<div *ngIf="showPopup" class="confirm-dialog">
  <div class="dialog-content">
    <p>{{ popupMessage }}</p>
    <div class="dialog-actions">
      <button (click)="closePopup()" class="confirm-btn">Đóng</button>
    </div>
  </div>
</div>